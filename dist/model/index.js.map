{"version":3,"sources":["model/index.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;;;iBAuBH,IAAI;;;mBArBE,KAAK;;;;;;sBAGF,QAAQ;;;;yBACL,WAAW;;;;;;oBAGhB,QAAQ;;;;+BACN,yBAAyB;;;;;;;AAM5C,IAAI,GAAG,GAAG,oBAAO,YAAY,CAAE;AAC7B,MAAI,EAAE,OAAO;AACb,OAAK,EAAE,OAAO,EACf,CAAE,CAAC;;;AAIJ,SAAU,IAAI;MACR,QAAQ,EACR,MAAM,EACN,OAAO;;;;AAFP,gBAAQ,GAAG,6BAAO,GAAG;AACrB,cAAM,GAAG,6BAAO,QAAQ;AACxB,eAAO,GAAG,iBAAI,OAAO,CAAE,QAAQ,GAAC,GAAG,EAAE,MAAM,CAAE;;AAEjD,WAAG,CAAC,KAAK,CAAE,OAAO,CAAE,CAAC;AACrB,+BAAU,OAAO,CAAE,OAAO,CAAE,CAAC;;;eAEvB,kBAAK,KAAK,CAAE,IAAI,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,CAAE;;;;eACjD,kBAAK,KAAK,CAAE,MAAM,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAE;;;;eACrC,kBAAK,KAAK,CAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAE;;;;eACvC,kBAAK,KAAK,CAAE,UAAU,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAE;;;;eACzC,kBAAK,KAAK,CAAE,QAAQ,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAE;;;;eACvC,kBAAK,KAAK,CAAE,EAAE,QAAQ,EAAE,UAAU,EAAE,CAAE;;;;;;;CAC7C;AACD,SAAS,KAAK,GAAG;AACf,yBAAU,UAAU,EAAE,CAAC;CACxB;;;;;;;;;QAUQ,IAAI,GAAJ,IAAI;;;QAAE,KAAK,GAAL,KAAK","file":"model/index.js","sourcesContent":["'use strict';\n// Load system modules\nimport url from 'url';\n\n// Load modules\nimport bunyan from 'bunyan';\nimport Mongorito from 'mongorito';\n\n// Load my modules\nimport Post from './post';\nimport config from '../../config/mongo.json';\n\n// Constant declaration\n\n\n// Module variables declaration\nlet log = bunyan.createLogger( {\n  name: 'model',\n  level: 'trace',\n} );\n\n\n// Module functions declaration\nfunction* open() {\n  let hostname = config.url;\n  let dbName = config.database;\n  let fullUrl = url.resolve( hostname+'/', dbName );\n\n  log.trace( fullUrl );\n  Mongorito.connect( fullUrl );\n\n  yield Post.index( 'id', { index: true, unique: true } );\n  yield Post.index( 'date', { index: true } );\n  yield Post.index( 'author', { index: true } );\n  yield Post.index( 'authorId', { index: true } );\n  yield Post.index( 'source', { index: true } );\n  yield Post.index( { location: '2dsphere' } );\n}\nfunction close() {\n  Mongorito.disconnect();\n}\n\n// Module class declaration\n\n\n// Module initialization (at first load)\n\n// Entry point\n\n// Exports\nexport { open, close };\n\n\n//  50 6F 77 65 72 65 64  62 79  56 6F 6C 6F 78"],"sourceRoot":"/source/"}