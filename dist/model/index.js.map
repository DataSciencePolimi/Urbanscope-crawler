{"version":3,"sources":["model/index.js"],"names":[],"mappings":";;;;;;;;;;;;iBAuBU,IAAI;;;;mBArBE,KAAK;;;;;;sBAGF,QAAQ;;;;yBACL,WAAW;;;;;;oBAGhB,QAAQ;;;;sBACN,yBAAyB;;;;AAV5C,YAAY,CAAC;;;;;AAgBb,IAAI,GAAG,GAAG,oBAAO,YAAY,CAAE;AAC7B,MAAI,EAAE,OAAO;AACb,OAAK,EAAE,OAAO,EACf,CAAE,CAAC;;;AAIJ,SAAU,IAAI;;;;;eAEN,kBAAK,KAAK,CAAE,IAAI,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAE;;;;;;;CAC3C;;;;;AAMD,IAAI,QAAQ,GAAG,oBAAO,GAAG,CAAC;AAC1B,IAAI,MAAM,GAAG,oBAAO,QAAQ,CAAC;AAC7B,IAAI,OAAO,GAAG,iBAAI,OAAO,CAAE,QAAQ,GAAC,GAAG,EAAE,MAAM,CAAE,CAAC;;;AAGlD,GAAG,CAAC,KAAK,CAAE,OAAO,CAAE,CAAC;AACrB,uBAAU,OAAO,CAAE,OAAO,CAAE,CAAC;;;qBAGd,IAAI","file":"model/index.js","sourcesContent":["'use strict';\r\n// Load system modules\r\nimport url from 'url';\r\n\r\n// Load modules\r\nimport bunyan from 'bunyan';\r\nimport Mongorito from 'mongorito';\r\n\r\n// Load my modules\r\nimport Post from './post';\r\nimport config from '../../config/mongo.json';\r\n\r\n// Constant declaration\r\n\r\n\r\n// Module variables declaration\r\nlet log = bunyan.createLogger( {\r\n  name: 'model',\r\n  level: 'trace',\r\n} );\r\n\r\n\r\n// Module functions declaration\r\nfunction* init() {\r\n\r\n  yield Post.index( 'id', { unique: true } );\r\n}\r\n\r\n// Module class declaration\r\n\r\n\r\n// Module initialization (at first load)\r\nlet hostname = config.url;\r\nlet dbName = config.database;\r\nlet fullUrl = url.resolve( hostname+'/', dbName );\r\n\r\n// Entry point\r\nlog.trace( fullUrl );\r\nMongorito.connect( fullUrl );\r\n\r\n// Exports\r\nexport default init;\r\n\r\n\r\n//  50 6F 77 65 72 65 64  62 79  56 6F 6C 6F 78"],"sourceRoot":"/source/"}